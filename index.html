<html>
	<head>
		<title>Shooting.ie</title>
		<style>
			html {
				font-family: Helvetica, Arial, sans-serif;
			}
			body {
				margin: 0;
				border: 0;
				padding: 0;
			}
		</style>
	</head>
	<body>
		<div id="map_canvas" style="width: 100%; height: 100%"></div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
		<script src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>
		<script>
			/* Map data */
			var clubs_and_ranges = {
				"An Riocht": {
					"latitude": 52.199655,
					"longitude": -9.686714,
					"address": {
						"street-address": "Ballyreameen",
						"extended-address": "Castlemaine",
						"locality": "Co. Kerry"
					}
				},
				"Ardee Clay Pigeon Club": {
					"latitude": 53.871718,
					"longitude": -6.414709,
					"url": "http://ardeeshootingclub.com/"
				},
				"BRC Sporting Club": {
					"latitude":  53.2618,
					"longitude": -6.3638
				},
				"Bishops Mountain Shooting Centre": {
					"latitude": 52.368147,
					"longitude": -7.107649,
					"address": {
						"street-address": "Knockbrack Gorse",
						"extended-address": "Near Mullinavat",
						"locality": "Kilkenny"
					}
				},
				"Bracken Projectile Club": {
					"latitude": 54.780585,
					"longitude": -7.358436
				},
				"Castlebridge Pistol Club": {
					"latitude": 52.3973237645791,
					"longitude": -6.43343901377231
				},
				"Comber Rifle Club (Indoor)": {
					"latitude": 54.5503762286759,
					"longitude": -5.75465551064741,
					"url": "http://www.comberrifleclub.com/",
					"address": {
						"street-address": "17 Railway Street",
						"extended-address": "Comber",
						"locality": "Co. Down",
						"postal-code": "BT23 5HG"
					}
				},
				"Comber Rifle Club (Outdoor)": {
					"latitude": 54.5323611111111,
					"longitude": -5.72183888888889,
					"url": "http://www.comberrifleclub.com/",
					"address": {
						"street-address": "Ballygraffan Road",
						"locality": "Comber",
						"postal-code": "BT23 5SU"
					}
				},
				"Courtlough Shooting Grounds": {
					"latitude": 53.5692870983377,
					"longitude": -6.19806478127698,
					"url": "http://www.courtlough.ie/",
					"address": {
						"street-address": "Courtlough",
						"extended-address": "Balbriggan",
						"locality": "Co. Dublin"
					}
				},
				"Downshire Rifle Club": {
					"latitude": 54.464273,
					"longitude": -6.094885,
					"url": "http://www.downshirerifleclub.com/",
					"address": {
						"street-address": "35 Moira Road",
						"extended-address": "Hillsborough",
						"locality": "Co. Down",
						"postal-code": "BT26 6DU"
					}
				},
				"Dublin Rifle Club": {
					"latitude": 53.2016888738685,
					"longitude": -6.42710799586665,
					"url": "http://www.dublinrifleclub.com/"
				},
				"Dublin University Rifle Club": {
					"latitude": 53.3443899108315,
					"longitude": -6.25254297679989,
					"url": "http://www.rifle.tcdlife.ie/",
					"address": {
						"street-address": "c/o DUCAC",
						"extended-address": ["Sports Centre", "Trinity College"],
						"locality": "Dublin",
						"postal-code": "2"
					}
				},
				"Dungannon Rifle & Pistol Club": {
					"latitude": 54.547239,
					"longitude": -6.767642,
					"url": "http://www.dungannon.org.uk/"
				},
				"Eagle Rifle and Pistol Target Club": {
					"latitude": 53.264621,
					"longitude": -6.455357,
					"url": "http://www.eaglerifleandpistolclub.com/"
				},
				"East Antrim Rifle and Pistol Club": {
					"latitude": 54.781975,
					"longitude": -6.014835,
					"url": "http://www.earpc.co.uk/",
					"address": {
						"street-address": "23A Sawmill Road",
						"extended-address": "Ballyclare",
						"locality": "Co. Antrim",
						"postal-code": "BT39 9TA"
					}
				},
				"East Coast Shooting Club - Arklow": {
					"latitude": 52.849557,
					"longitude": -6.285282,
					"url": "http://www.ecssc.ie/"
				},
				"East Coast Shooting Club - Roundwood": {
					"latitude": 53.0477625526355,
					"longitude": -6.20353437379545,
					"url": "http://www.eastcoastshootingclub.com/",
					"address": {
						"street-address": "Diamond Hill",
						"extended-address": "Roundwood",
						"locality": "Co. Wicklow"
					}
				},
				"Fermoy Rifle Club": {
					"latitude": 52.1388629651757,
					"longitude": -8.43548144534083,
					"url": "http://www.fermoyrifleclub.com/",
					"address": {
						"street-address": "Ballydague",
						"extended-address": "Ballyhooly",
						"locality": "Co. Cork"
					}
				},
				"Fingal Target Shooting Club": {
					"latitude": 53.6241393982032,
					"longitude": -6.2112219360812
				},
				"Harbour House Shooting": {
					"latitude": 53.0564606422103,
					"longitude": -6.9245459098333,
					"url": "http://www.harbourhouseshooting.com/",
					"address": {
						"street-address": "Lougharbour",
						"extended-address": "Athy",
						"locality": "Co. Kildare"
					}
				},
				"Hilltop Quad and Sporting Club": {
					"latitude": 53.0930516167773,
					"longitude": -6.16451559046442,
					"url": "http://www.hilltopshootingsports.com/",
					"address": {
						"street-address": "Tithewer",
						"extended-address": "Newtownmountkennedy",
						"locality": "Co. Wicklow"
					}
				},
				"Knocknagoshel Shooting Range": {
					"latitude": 52.321389,
					"longitude": -9.385,
					"url": "https://irishshootingsports.ie/grounds/",
					"address": {
						"street-address": "Meenbanivane",
						"extended-address": "Knocknagoshel",
						"locality": "Co. Kerry"
					}
				},
				"Lough Bo Shooting Centre": {
					"latitude": 54.1229162906092,
					"longitude": -8.31515936065645,
					"url": "http://www.loughbo.ie/",
					"address": {
						"street-address": "Coollemoneen",
						"extended-address": "Drumnacool",
						"locality": "Co. Sligo"
					}
				},
				"Midlands National Shooting Centre": {
					"latitude": 53.237985240618,
					"longitude": -7.66986274078126,
					"url": "http://www.nationalshootingcentre.ie/",
					"address": {
						"street-address": "Derrymore",
						"extended-address": ["Blueball", "Tullamore"],
						"locality": "Co. Offaly"
					}
				},
				"Mourne Shooting Grounds": {
					"latitude": 54.07205,
					"longitude": -6.8353,
					"url": "http://www.mourneadventureactivities.com/",
					"address": {
						"street-address": "Mourne View",
						"extended-address": ["Loughmourne", "Castleblayney"],
						"locality": "Co Monaghan"
					}
				},
				"Munster Target Shooting Club": {
					"latitude": 52.325911,
					"longitude": -8.437221,
					"url": "http://www.mtsc.ie/",
					"address": {
						"street-address": "Ballinacourty",
						"extended-address": ["Glenroe", "Kilfinnane"],
						"locality": "Co. Limerick"
					}
				},
				"Naul Clay Pigeon Shooting Club": {
					"latitude": 53.5622106081508,
					"longitude": -6.25906246837883,
					"address": {
						"street-address": "Rathgreat",
						"extended-address": "Naul",
						"locality": "Co. Dublin"
					}
				},
				"Rathdrum Rifle and Pistol Club": {
					"latitude": 52.9312773217745,
					"longitude": -6.23394987611997,
					"url": "http://www.rathdrumrpc.org/",
					"address": {
						"street-address": "Brewery Lane",
						"locality": "Co. Wicklow"
					}
				},
				"University College Dublin Rifle Club": {
					"latitude": 53.3087665160908,
					"longitude": -6.23236414228111,
					"url": "http://www.ucd.ie/rifle/",
					"address": {
						"street-address": "PO Box 66",
						"extended-address": [
							"Students Consultative Forum",
							"University College Dublin",
							"Belfield"
						],
						"locality": "Dublin",
						"postal-code": "4"
					}
				},
				"Wilkinstown Target Shooting Club": {
					"latitude": 53.7346504149589,
					"longitude": -6.71163643975146,
					"url": "http://www.targetshootingexcellence.org/",
					"address": {
						"street-address": "Wilkinstown",
						"locality": "Co. Meath"
					}
				}
			};

			/* Map drawing */
			var map = new google.maps.Map(
				document.getElementById('map_canvas'),
				{
					zoom: 7,
					center: new google.maps.LatLng(53.5, -8.0),
					mapTypeId: google.maps.MapTypeId.ROADMAP
				}
			);
			document.address = function(club) {
				if (club['address']) {
					address = [];
					if (club['address']['street-address']) {
						address.push(club['address']['street-address']);
					}
					if (club['address']['extended-address']) {
						if (typeof club['address']['extended-address'] === 'object') {
							for (i in club['address']['extended-address']) {
								address.push(club['address']['extended-address'][i]);
							}
						} else {
							address.push(club['address']['extended-address']);
						}
					}
					if (club['address']['locality']) {
						if (club['address']['postal-code']) {
							address.push(club['address']['locality'] + " " + club['address']['postal-code']);
						} else {
							address.push(club['address']['locality']);
						}
					}
					return "<br />" + address.join(",<br />") + "<br />";
				} else {
					return "";
				}
			};
			for (cnr in clubs_and_ranges) {
				clubs_and_ranges[cnr]['point'] = new google.maps.LatLng(
					clubs_and_ranges[cnr]['latitude'],
					clubs_and_ranges[cnr]['longitude']
				);
				clubs_and_ranges[cnr]['marker'] = new google.maps.Marker({
					position: clubs_and_ranges[cnr]['point'],
					map: map,
					title: cnr
				});
				info = cnr;
				if (clubs_and_ranges[cnr]['url']) {
					info = "<a href=\"" + clubs_and_ranges[cnr]['url'] + "\">" + info + "</a>";
				}
				info += "<br />";
				if (clubs_and_ranges[cnr]['phone']) {
					info += "<br /><span class=\"tel\">Phone: <a clas=\"value\" ";
					info += "href=\"tel:" + clubs_and_ranges[cnr]['phone'] + "\">";
					info += clubs_and_ranges[cnr]['phone'] + "</a>";
				}
				info += document.address(clubs_and_ranges[cnr]);
				info += "<br /><a target=\"_blank\" ";
				info += "href=\"http://maps.google.com/maps?saddr=&daddr=" +
					clubs_and_ranges[cnr]['latitude'] + "," +
					clubs_and_ranges[cnr]['longitude'] + "\">Directions...</a>";
				clubs_and_ranges[cnr]['info_window'] = new google.maps.InfoWindow({content: info});
				google.maps.event.addListener(clubs_and_ranges[cnr]['marker'], 'click', function() {
					map.panTo(clubs_and_ranges[this.title]['point']);
					for (cnr in clubs_and_ranges) {
						clubs_and_ranges[cnr]['info_window'].close();
					}
					clubs_and_ranges[this.title]['info_window'].open(map, clubs_and_ranges[this.title]['marker']);
				});
			}

			/* Google Analytics */
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-299128-7']);
			_gaq.push(['_trackPageview']);
			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		</script>
	</body>
</html>
